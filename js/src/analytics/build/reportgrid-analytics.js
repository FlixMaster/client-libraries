(function(b){var f=+new Date,j=function(a,b){var h=a.exec(b);return h&&h[1]},k=function(a,b){return Math.round(a/b)*b},i=function(){for(var a={pageEngagement:/^queueing|polling|none$/,interaction:/^true|false$/,attention:/^true|false$/,scrolling:/^true|false$/},o=b("script").eq(-1).attr("src").replace(/^.*\?/,"").split(/&/),h=null,e={},c=function(a){return a==="false"?!1:a==+a?+a:a},d=0,f=o.length;d<f;++d)e[(h=o[d].split(/=/))[0]]=c(h.slice(1).join("="));for(var g in e){if(a.hasOwnProperty(g)&&e.hasOwnProperty(g)&&
!a[g].test(e[g]))throw Error('Invalid parameter for option "'+g+'": '+e[g]);if(e.hasOwnProperty(g)&&!a.hasOwnProperty(g))throw Error('Unrecognized option: "'+g+'"');}return b.extend({},{pageEngagement:"queueing",interaction:!1,attention:!1,scrolling:!1},e)}(),p=ReportGrid.normalizePath=function(a){return[].join.call([].slice.call(/^(?:https?:\/\/)?(?:www\.)?([^\/]+)\/([^?#]+)/i.exec(a),1),"/")},q=p(document.location.href),c=function(a,b){var c=function(a){a.setDate(a.getDate()+36500);return a}(new Date);
if(arguments.length<=1)return j(RegExp("\\b"+a+"=([^;]*)"),document.cookie);document.cookie=a+"="+b+"; expires="+c.toUTCString();return b},m=function(){for(var a="",b=0;b<32;++b)a+=(Math.random()*16>>>0).toString(16);r=!0;return c("reportgrid_identity",a)},r=!1;c("reportgrid_identity")||m();var v=c("reportgrid_total_visits",(+c("reportgrid_total_visits")||0)+1),m=function(){var a=+new Date-function(){var a=c("reportgrid_last_visit")||+new Date;c("reportgrid_last_visit",+new Date);return a}();return a>
2592E6?"yearly":a>6048E5?"monthly":a>864E5?"weekly":a>1E3?"hourly":"new"}(),n=0,s=+c("reportgrid_total_engagement")||0,w=(b.browser.msie?"IE":b.browser.mozilla?"FF":b.browser.opera?"Opera":"Webkit")+parseInt(b.browser.version),x=!!document.referrer&&p(document.referrer),y=/^http:\/\/www\.google\.com/.test(document.referrer)&&decodeURIComponent(j(/[\?&]q=([^&]*)/,document.referrer))||/^http:\/\/search\.yahoo\.com/.test(document.referrer)&&decodeURIComponent(j(/[\?&]p=([^&]*)/,document.referrer)).replace(/+/g,
" ")||/^http:\/\/www\.bing\.com/.test(document.referrer)&&decodeURIComponent(j(/[\?&]q=([^&]*)/,document.referrer)).replace(/+/g," ")||"",z=(new Date).getHours()-(new Date).getUTCHours(),l=function(a){if(a.attr("id"))return"#"+a.attr("id");for(var b=a[0].nodeName.toLowerCase(),a=a[0].className.split(/\s+/),c=0,d=a.length;c<d;++c)a[c]&&(b+="."+a[c]);return b},d=ReportGrid.customEvent=function(a,c,d){var e={};e[a]=b.extend({},{browserVersion:w,totalVisits:v,totalInteraction:n,totalEngagement:k(s+(+new Date-
f),1E3),referrer:x,timeOffset:z,"~keywords":y},c||{});return ReportGrid.track("/"+(d||q),{event:e})};d("visited");r?d("uniqueVisited"):d("repeatVisited",{timeFrame:m});b(function(){d("loaded",{delay:k(+new Date-f,50)})});b('a, button, input[type="submit"]').live("click",function(){var a=this.nodeName.toLowerCase();d(a==="a"?"linkClicked":a==="button"?"buttonClicked":a==="input"?"submitClicked":a+"Clicked",{element:l(b(this)),newWindow:b(this).attr("target")==="_blank"})});b("form").live("submit",
function(){var a={};b(this).find('select, input[type="checkbox"]').each(function(){a[l(b(this))]=b(this).val()});d("formSubmitted",a)});var t=0;i.scrolling&&setInterval(function(){var a=b(window).height(),c=b(window).scrollTop(),f=b("body").height(),a=(a+c)/f*10>>>0;a>t&&(d("saw",{region:a}),t=a)},100);b("*").live("click",function(a){a.target===this&&(++n,i.interaction&&d("interaction",{element:l(b(this)),type:"click"}))});b("*").live("keypress",function(a){a.target===this&&a.which===13&&(++n,i.interaction&&
d("interaction",{element:l(b(this)),type:"enterKey"}))});b('a[href^="mailto:"]').live("click",function(){d("emailed",{address:b(this).attr("href").replace(/^mailto:/,"")})});i.pageEngagement==="queueing"&&c("reportgrid_page_engagement_time")&&c("reportgrid_page_engagement_last_url")&&d("engagedQueueing",{time:k(+c("reportgrid_page_engagement_time"),100)},c("reportgrid_page_engagement_last_url"));c("reportgrid_page_engagement_last_url",q);setInterval(function(){c("reportgrid_page_engagement_time",
+new Date-f);c("reportgrid_user_total_engagement",s+(+new Date-f))},100);var u=function(a){setTimeout(function(){d("engagedPolling",{time:k(+new Date-f,1E3)});u(a*2)},a)};i.pageEngagement==="polling"&&u(1E3)})(jQuery);
